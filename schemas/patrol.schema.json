{
  "$defs": {
    "Biome": {
      "enum": [
        "mountainous",
        "-mountainous",
        "plains",
        "-plains",
        "forest",
        "-forest",
        "beach",
        "-beach",
        "wetlands",
        "-wetlands",
        "desert",
        "-desert"
      ],
      "title": "Biome",
      "type": "string"
    },
    "CanHaveStat": {
      "enum": [
        "p_l",
        "r_c",
        "app1",
        "app2",
        "not_pl",
        "not_rc",
        "not_pl_rc",
        "any",
        "adult",
        "app",
        "healer"
      ],
      "title": "CanHaveStat",
      "type": "string"
    },
    "HistoryText": {
      "properties": {
        "reg_death": {
          "description": "Death history text for non-leaders. Whole sentence.",
          "title": "Reg Death",
          "type": "string"
        },
        "lead_death": {
          "description": "Death history text for leaders. Sentence fragment.",
          "title": "Lead Death",
          "type": "string"
        },
        "scar": {
          "description": "Scar history. Whole sentence.",
          "title": "Scar",
          "type": "string"
        }
      },
      "title": "HistoryText",
      "type": "object"
    },
    "InjuryItem": {
      "properties": {
        "cats": {
          "description": "Which cats are injured.",
          "items": {
            "$ref": "common.schema.json#/$defs/GatherCat"
          },
          "title": "Cats",
          "type": "array"
        },
        "injuries": {
          "description": "Pool of injuries to draw from.",
          "items": {
            "anyOf": [
              {
                "$ref": "common.schema.json#/$defs/Injury"
              },
              {
                "$ref": "common.schema.json#/$defs/Illness"
              },
              {
                "$ref": "common.schema.json#/$defs/PermCondition"
              },
              {
                "const": "non_lethal",
                "type": "string"
              }
            ]
          },
          "title": "Injuries",
          "type": "array"
        },
        "scars": {
          "description": "Pool of scars to draw from in Classic. Currently non-functional.",
          "items": {
            "$ref": "common.schema.json#/$defs/Scar"
          },
          "title": "Scars",
          "type": "array"
        },
        "no_results": {
          "description": "True if the injury \"got\" message does not show up in patrol summary.",
          "title": "No Results",
          "type": "boolean"
        }
      },
      "title": "InjuryItem",
      "type": "object"
    },
    "LeaderLivesLost": {
      "enum": [
        "some_lives",
        "all_lives"
      ],
      "title": "LeaderLivesLost",
      "type": "string"
    },
    "MinMaxStatusDictKey": {
      "enum": [
        "medicine cat",
        "warrior",
        "leader",
        "deputy",
        "apprentice",
        "medicine cat apprentice",
        "healer cats",
        "normal adult",
        "all apprentices"
      ],
      "title": "MinMaxStatusDictKey",
      "type": "string"
    },
    "Outcome": {
      "properties": {
        "text": {
          "description": "Displayed outcome text.",
          "title": "Text",
          "type": "string"
        },
        "frequency": {
          "default": 4,
          "description": "Controls how common an outcome is.",
          "title": "Frequency",
          "type": "integer"
        },
        "exp": {
          "description": "Base exp gain.",
          "title": "Exp",
          "type": "integer"
        },
        "stat_skill": {
          "description": "Makes this a stat outcome which can occur if a stat cat can be found.",
          "items": {
            "$ref": "common.schema.json#/$defs/Skill"
          },
          "title": "Stat Skill",
          "type": "array"
        },
        "stat_trait": {
          "description": "Makes this a stat outcome which can occur if a stat cat can be found.",
          "items": {
            "$ref": "common.schema.json#/$defs/Trait"
          },
          "title": "Stat Trait",
          "type": "array"
        },
        "can_have_stat": {
          "description": "Overrides default behavior or adds additional requirements for stat_cat picking.",
          "items": {
            "$ref": "#/$defs/CanHaveStat"
          },
          "title": "Can Have Stat",
          "type": "array"
        },
        "prey": {
          "description": "Indicates how much prey each cat brings back.",
          "items": {
            "$ref": "#/$defs/Prey"
          },
          "title": "Prey",
          "type": "array"
        },
        "herbs": {
          "description": "Indicates which herbs will be given.",
          "items": {
            "anyOf": [
              {
                "$ref": "common.schema.json#/$defs/Herb"
              },
              {
                "$ref": "#/$defs/PatrolHerb"
              }
            ]
          },
          "title": "Herbs",
          "type": "array"
        },
        "lost_cats": {
          "description": "Indicates which cats will become lost.",
          "items": {
            "$ref": "common.schema.json#/$defs/GatherCat"
          },
          "title": "Lost Cats",
          "type": "array"
        },
        "dead_cats": {
          "description": "Indicates which cats will die.",
          "items": {
            "anyOf": [
              {
                "$ref": "common.schema.json#/$defs/GatherCat"
              },
              {
                "$ref": "#/$defs/LeaderLivesLost"
              }
            ]
          },
          "title": "Dead Cats",
          "type": "array"
        },
        "injury": {
          "description": "Indicates which cats get injured and how.",
          "items": {
            "$ref": "#/$defs/InjuryItem"
          },
          "title": "Injury",
          "type": "array"
        },
        "min_max_status": {
          "additionalProperties": {
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "integer"
              },
              {
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "description": "Allows specification of the minimum and maximum number of specific types of cats that are allowed on the patrol.",
          "propertyNames": {
            "$ref": "#/$defs/MinMaxStatusDictKey"
          },
          "title": "Min Max Status",
          "type": "object"
        },
        "history_text": {
          "$ref": "#/$defs/HistoryText",
          "description": "Controls the history-text for scars and death.",
          "title": "History Text"
        },
        "relationships": {
          "description": "Indicates effect on cat relationships.",
          "items": {
            "$ref": "#/$defs/Relationship"
          },
          "title": "Relationships",
          "type": "array"
        },
        "new_cat": {
          "description": "Adds new cat(s), either joining the clan or as outside cats. The {index} value corresponds to their index value on this list (e.g. n_c:0 refers to the first cat in this list).",
          "items": {
            "$ref": "common.schema.json#/$defs/NewCat"
          },
          "title": "New Cat",
          "type": "array"
        },
        "art": {
          "description": "Name of outcome-specific art, without file extension (no .png). If no art is specified, the intro art will be used.",
          "title": "Art",
          "type": "string"
        },
        "art_clean": {
          "description": "Name of non-gore outcome-specific art, without file extension (no .png). Adding a clean version of the art marks the normal version as containing gore.",
          "title": "Art Clean",
          "type": "string"
        },
        "outsider_rep": {
          "description": "How much outsider reputation will change. Can be positive or negative.",
          "title": "Outsider Rep",
          "type": "integer"
        },
        "other_clan_rep": {
          "description": "How much reputation with other Clan will change. Can be positive or negative.",
          "title": "Other Clan Rep",
          "type": "integer"
        }
      },
      "required": [
        "text",
        "frequency",
        "exp"
      ],
      "title": "Outcome",
      "type": "object"
    },
    "PatrolHerb": {
      "enum": [
        "random_herbs",
        "many_herbs"
      ],
      "title": "PatrolHerb",
      "type": "string"
    },
    "PatrolSchemaItem": {
      "properties": {
        "patrol_id": {
          "description": "Unique string used to identify the patrol.",
          "title": "Patrol Id",
          "type": "string"
        },
        "biome": {
          "description": "Controls the biome(s) the patrol appears in",
          "items": {
            "anyOf": [
              {
                "$ref": "#/$defs/Biome"
              },
              {
                "const": "any",
                "type": "string"
              }
            ]
          },
          "title": "Biome",
          "type": "array"
        },
        "season": {
          "description": "Controls the season(s) the patrol appears in.",
          "items": {
            "$ref": "common.schema.json#/$defs/Season"
          },
          "title": "Season",
          "type": "array"
        },
        "types": {
          "description": "Controls the type of patrol.",
          "items": {
            "$ref": "#/$defs/PatrolType"
          },
          "title": "Types",
          "type": "array"
        },
        "tags": {
          "description": "Tags are used for some filtering purposes, and some odd-and-ends. Tags never affect outcome.",
          "items": {
            "$ref": "#/$defs/PatrolTag"
          },
          "title": "Tags",
          "type": "array"
        },
        "patrol_art": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "description": "The name of displayed patrol art file, without any file extension (no .png).",
          "title": "Patrol Art"
        },
        "patrol_art_clean": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "If patrol_art contains gore, this line can hold a clean version. The existence of a non-empty string in this parameter marks the patrol art in \"patrol_art\" as explicit.",
          "title": "Patrol Art Clean"
        },
        "min_cats": {
          "description": "Minimum total number of cats for this patrol.",
          "title": "Min Cats",
          "type": "integer"
        },
        "max_cats": {
          "description": "Maximum total number of cats for this patrol",
          "title": "Max Cats",
          "type": "integer"
        },
        "min_max_status": {
          "additionalProperties": {
            "maxItems": 2,
            "minItems": 2,
            "prefixItems": [
              {
                "type": "integer"
              },
              {
                "type": "integer"
              }
            ],
            "type": "array"
          },
          "description": "Allows specification of the minimum and maximum number of specific types of cats that are allowed on the patrol.",
          "propertyNames": {
            "$ref": "#/$defs/MinMaxStatusDictKey"
          },
          "title": "Min Max Status",
          "type": "object"
        },
        "frequency": {
          "default": 4,
          "description": "Controls how common a patrol is. 4 is the most common, 1 is the least.",
          "title": "Frequency",
          "type": "integer"
        },
        "chance_of_success": {
          "description": "Controls chance to succeed. Higher number is higher chance to succeed.",
          "title": "Chance Of Success",
          "type": "integer"
        },
        "relationship_status": {
          "description": "Dictates what relationships m_c must have towards r_c. Do not use this section if there is no r_c in the event.",
          "items": {
            "$ref": "common.schema.json#/$defs/RelationshipStatus"
          },
          "title": "Relationship Status",
          "type": "array"
        },
        "pl_skill_constraint": {
          "description": "Only allow this patrol if the patrol leader (p_l) meets at least one of these skill requirements.",
          "items": {
            "$ref": "common.schema.json#/$defs/Skill"
          },
          "title": "Pl Skill Constraint",
          "type": "array"
        },
        "intro_text": {
          "description": "The text that displays when the patrol first starts.",
          "title": "Intro Text",
          "type": "string"
        },
        "decline_text": {
          "description": "The text that displays if the patrol is declined (do not proceed)",
          "title": "Decline Text",
          "type": "string"
        },
        "success_outcomes": {
          "items": {
            "$ref": "#/$defs/Outcome"
          },
          "title": "Success Outcomes",
          "type": "array"
        },
        "fail_outcomes": {
          "items": {
            "$ref": "#/$defs/Outcome"
          },
          "title": "Fail Outcomes",
          "type": "array"
        },
        "antag_success_outcomes": {
          "items": {
            "$ref": "#/$defs/Outcome"
          },
          "title": "Antag Success Outcomes",
          "type": "array"
        },
        "antag_fail_outcomes": {
          "items": {
            "$ref": "#/$defs/Outcome"
          },
          "title": "Antag Fail Outcomes",
          "type": "array"
        }
      },
      "required": [
        "patrol_id",
        "biome",
        "season",
        "types",
        "tags",
        "patrol_art",
        "min_cats",
        "max_cats",
        "frequency",
        "chance_of_success",
        "intro_text",
        "decline_text",
        "success_outcomes",
        "fail_outcomes"
      ],
      "title": "PatrolSchemaItem",
      "type": "object"
    },
    "PatrolTag": {
      "anyOf": [
        {
          "$ref": "#/$defs/PatrolTagEnum"
        },
        {
          "pattern": "^clan:(.+)$",
          "type": "string"
        }
      ],
      "title": "PatrolTag"
    },
    "PatrolTagEnum": {
      "enum": [
        "romance",
        "rom_two_apps",
        "disaster",
        "new_cat",
        "halloween",
        "april_fools",
        "new_years",
        "cruel_season",
        "all_mentored",
        "app1_mentored",
        "app2_mentored",
        "app3_mentored",
        "app4_mentored",
        "app5_mentored",
        "app6_mentored"
      ],
      "title": "PatrolTagEnum",
      "type": "string"
    },
    "PatrolType": {
      "enum": [
        "hunting",
        "herb_gathering",
        "border",
        "training"
      ],
      "title": "PatrolType",
      "type": "string"
    },
    "Prey": {
      "enum": [
        "very_small",
        "small",
        "medium",
        "large",
        "huge"
      ],
      "title": "Prey",
      "type": "string"
    },
    "Relationship": {
      "properties": {
        "cats_from": {
          "description": "The cat's whose relationship values are being edited. You are changing how the \"cats_from\" feels.",
          "items": {
            "$ref": "common.schema.json#/$defs/GatherCat"
          },
          "title": "Cats From",
          "type": "array"
        },
        "cats_to": {
          "description": "The target of the relationship. You are changing how \"cats_from\" feels about \"cats_to\".",
          "items": {
            "$ref": "common.schema.json#/$defs/GatherCat"
          },
          "title": "Cats To",
          "type": "array"
        },
        "mutual": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Controls if the relation effect will be applied in both directions.",
          "title": "Mutual"
        },
        "values": {
          "description": "Controls which relationship values are affected.",
          "items": {
            "$ref": "#/$defs/Value"
          },
          "title": "Values",
          "type": "array"
        },
        "amount": {
          "description": "Exact amount the relationship value will be affected. Can be positive or negative.",
          "title": "Amount",
          "type": "integer"
        }
      },
      "required": [
        "cats_from",
        "cats_to",
        "values",
        "amount"
      ],
      "title": "Relationship",
      "type": "object"
    },
    "Value": {
      "enum": [
        "romance",
        "like",
        "comfort",
        "trust",
        "respect"
      ],
      "title": "Value",
      "type": "string"
    }
  },
  "description": "Patrols in Clan Generator.",
  "items": {
    "$ref": "#/$defs/PatrolSchemaItem"
  },
  "title": "PatrolSchema",
  "type": "array"
}